{"version":3,"sources":["../src/notebook_index.js"],"names":["require","config","enforceDefine","shim","paths","bootstrapTable","M","cfg","wwwroot","bootstrapTableLocale","bootstrapTableLocaleMobile","define","$","notification","str","ajax","Templates","SELECTORS","NOTEBOOKCONTAINER","NOTEINDEX","HEADER_CONTAINER","BODY_CONTAINER","FORM_CONTAINER","CLOSE_BUTTON","NOTE_TABLE_CONTAINER","NOTE_TABLE","NOTE_TABLE_LOADING","REFRESH_BUTTON","SAVE_BUTTON","CANCEL_BUTTON","NOTE_FORM_ID","VIEW_NOTE","NOTE_VIEW","NOTE_TABLE_ROW","FOOTER_NOTE_VIEW","HEADER_NOTE_VIEW","HEADER_NOTE_CREATED_DATE","HEADER_NOTE_LAST_MODIFIED_DATE","NOTE_FORM","HEADER_NOTE_DELETE","HEADER_NOTE_EDIT","FOOTER_NOTE_TAGS","MESSAGE_SUCCESS_CONTAINER","DIALOGUE_CONTAINER","CONFIRM_TEXT_MULTI","CONFIRM_TEXT_SINGLE","CONFIRM_DELETE_BUTTON_MULTI","CONFIRM_DELETE_BUTTON_SINGLE","CANCEL_DELETE_BUTTON_MULTI","CANCEL_DELETE_BUTTON_SINGLE","DELETE_NOTE_BUTTON","CHECKBOX_LIST_NOTE","CHECKBOX_ALL_NOTE","TABLE_DELETE_BUTTON","TABLE_PAGINATION","NOTE_DETAIL_CONTAINER","refreshNotes","previousPageNumber","$table","pageNumber","displayNotes","getFormattedTags","tags","tagshtml","forEach","item","title","url","addBlurContent","selectors","addClass","removeBlurContent","removeClass","displayNote","noteid","promises","displayNoteView","call","methodname","args","id","done","result","data","subject","summary","timestamp","created","datecreation","Date","toLocaleDateString","document","documentElement","lang","day","month","year","timecreation","toLocaleTimeString","lastmodifiedtimestamp","lastmodified","lastmodifieddate","lastmodifiedtime","render","then","html","fail","Notification","exception","userid","courseid","coursemoduleid","get_strings","key","component","langStrings","each","index","value","text","push","locale","paginationParts","paginationSuccessivelySize","paginationPagesBySide","columns","field","checkbox","visible","sortable","sortName","formatter","nbtags","length","td","nbclass","today","width","titleTooltip","align","row","join","onPostBody","find","slice","wrapAll","dropdown","closeConfirmDialogue","action","focus","showConfirmDialogue","toshow","tohide","list","val","window","scrollTo","position","top","submitFormAjax","activeElement","cancelNoteForm","note","serialize","displayMessageSuccess","submitDeleteAjax","notesids","keymessage","notes","hideNoteView","hideNoteForm","attr","removeAttr","editNoteView","trigger","toggleSaveButton","messageHtml","setTimeout","fadeOut","editorcontent","emptyeditor","samecontent","subjectform","subjectorigin","summaryorigin","localeCompare","replace","trim","includes","prop","toggleDeleteButton","listempty","registerEventListeners","on","e","target","hasClass","parent","closest","is","preventDefault","init","ready"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Controls the notebook index.\n *\n * @module     local_notebook/notebook_index\n * @copyright  2022 Université de Montréal\n * @author     Issam Taboubi <issam.taboubi@umontreal.ca>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nrequire.config({\n    enforceDefine: true,\n    shim: {\n        'bootstrapTable': ['jquery'],\n        'bootstrapTableLocale': ['jquery', 'bootstrapTable'],\n        'bootstrapTableLocaleMobile': ['jquery', 'bootstrapTable']\n    },\n    paths: {\n        bootstrapTable: M.cfg.wwwroot + '/local/notebook/amd/build/bootstrap-table.min',\n        bootstrapTableLocale: M.cfg.wwwroot + '/local/notebook/amd/build/bootstrap-table-locale-all.min',\n        bootstrapTableLocaleMobile: M.cfg.wwwroot + '/local/notebook/amd/build/bootstrap-table-mobile.min'\n    }\n});\n\ndefine(\n    [\n        'jquery',\n        'core/notification',\n        'core/str',\n        'core/ajax',\n        'core/templates',\n        'bootstrapTable',\n        'bootstrapTableLocale',\n        'bootstrapTableLocaleMobile',\n    ], function(\n        $,\n        notification,\n        str,\n        ajax,\n        Templates\n    ) {\n\n        var SELECTORS = {\n            NOTEBOOKCONTAINER: '.notebookcontainer',\n            NOTEINDEX: '[data-region=\"notebook-index\"]',\n            HEADER_CONTAINER: '[data-region=\"header-container\"]',\n            BODY_CONTAINER: '[data-region=\"body-container\"]',\n            FORM_CONTAINER: '[data-region=\"form-note\"]',\n            CLOSE_BUTTON: '[data-action=\"closedrawer\"]',\n            NOTE_TABLE_CONTAINER: '#notebook-table-index-container',\n            NOTE_TABLE: '#notebook-table-index',\n            NOTE_TABLE_LOADING: '#notebook-table-index-loading',\n            REFRESH_BUTTON: 'button[name=\"refresh\"]',\n            SAVE_BUTTON: '#savenote',\n            CANCEL_BUTTON: '#cancel-add-edit',\n            NOTE_FORM_ID: 'noteform',\n            VIEW_NOTE: '#notebook-table-index .viewnote',\n            NOTE_VIEW: '[data-region=\"notebook-index\"] .view-note',\n            NOTE_TABLE_ROW: '#notebook-table-index tr',\n            FOOTER_NOTE_VIEW: '[data-region=\"footer-container\"] [data-region=\"view-note\"]',\n            HEADER_NOTE_VIEW: '[data-region=\"header-container\"] [data-region=\"view-note\"]',\n            HEADER_NOTE_CREATED_DATE: '[data-region=\"header-container\"] .notecreateddate',\n            HEADER_NOTE_LAST_MODIFIED_DATE: '[data-region=\"header-container\"] .notelastmodifieddate',\n            NOTE_FORM: '[data-region=\"form-note\"] #noteform',\n            HEADER_NOTE_DELETE : '[data-region=\"header-container\"] .deletenote',\n            HEADER_NOTE_EDIT: '[data-region=\"header-container\"] .editnote',\n            FOOTER_NOTE_TAGS: '[data-region=\"footer-container\"] .notetags',\n            MESSAGE_SUCCESS_CONTAINER: '.notebookcontainer .messagesuccesscontainer',\n            DIALOGUE_CONTAINER: '.notebookcontainer [data-region=\"confirm-dialogue-container\"]',\n            CONFIRM_TEXT_MULTI: '.notebookcontainer [data-region=\"confirm-dialogue-container\"] ' +\n                '.multiplenotes',\n            CONFIRM_TEXT_SINGLE: '.notebookcontainer [data-region=\"confirm-dialogue-container\"] ' +\n                '.singlenote',\n            CONFIRM_DELETE_BUTTON_MULTI: '[data-region=\"confirm-dialogue-container\"] [data-action=\"confirm-delete-multiple\"]',\n            CONFIRM_DELETE_BUTTON_SINGLE: '[data-region=\"confirm-dialogue-container\"] [data-action=\"confirm-delete-single\"]',\n            CANCEL_DELETE_BUTTON_MULTI: '[data-region=\"confirm-dialogue-container\"] [data-action=\"cancel-delete-multiple\"]',\n            CANCEL_DELETE_BUTTON_SINGLE: '[data-region=\"confirm-dialogue-container\"] [data-action=\"cancel-delete-single\"]',\n            DELETE_NOTE_BUTTON: '.deletenote',\n            CHECKBOX_LIST_NOTE: '[name=\"btSelectItem\"]',\n            CHECKBOX_ALL_NOTE: '[name=\"btSelectAll\"]',\n            TABLE_DELETE_BUTTON: '[data-region=\"notebook-index\"] #remove',\n            TABLE_PAGINATION: '[data-region=\"notebook-index\"] .fixed-table-pagination',\n            NOTE_DETAIL_CONTAINER: '#notedetailcontainer'\n\n        };\n\n        /**\n         * Refresh notes.\n         *\n         */\n        var refreshNotes = () => {\n            let previousPageNumber = this.$table.bootstrapTable('getOptions').pageNumber;\n            this.$table.bootstrapTable('destroy');\n            displayNotes(previousPageNumber);\n        };\n\n        /**\n         * Get formatted tags.\n         *\n         * @param {Array.<Object>} tags\n         * @return {String} return tags html\n         */\n        var getFormattedTags = (tags) => {\n            var tagshtml = '';\n\n            tags.forEach(function(item) {\n                tagshtml += '<span class=\"badge badge-info text-truncate context-note\">'\n                    + '<a title=\"' + item.title + '\" href=\"' + item.url + '\">' + item.title + '</a></span>';\n            });\n\n            return tagshtml;\n        };\n\n        /**\n         * Add blur note content.\n         *\n         */\n        var addBlurContent = () => {\n            let selectors = SELECTORS.FOOTER_NOTE_VIEW + ', ' + SELECTORS.HEADER_NOTE_CREATED_DATE + ', ' +\n                SELECTORS.HEADER_NOTE_LAST_MODIFIED_DATE + ', '+ SELECTORS.NOTE_VIEW;\n            $(selectors).addClass('blur-content');\n        };\n\n        /**\n         * Remove blur note content.\n         *\n         */\n        var removeBlurContent = () => {\n            let selectors = SELECTORS.FOOTER_NOTE_VIEW + ', ' + SELECTORS.HEADER_NOTE_CREATED_DATE + ', ' +\n                SELECTORS.HEADER_NOTE_LAST_MODIFIED_DATE + ', '+ SELECTORS.NOTE_VIEW;\n            $(selectors).removeClass('blur-content');\n        };\n\n        /**\n         * Display note.\n         *\n         * @param {String} noteid The note id\n         */\n        var displayNote = (noteid) => {\n            var promises = [];\n            displayNoteView();\n            addBlurContent();\n\n            promises = ajax.call([{\n                methodname: 'local_notebook_read_note',\n                args: {\n                    noteid: noteid\n                }\n            },\n            {\n                methodname: 'local_notebook_note_viewed',\n                args: {\n                    id: noteid\n                }\n            }]);\n            promises[0].done(function (result) {\n                let data = {};\n                data.subject = result.subject;\n                data.summary = result.summary;\n\n                // Note created datetime.\n                let timestamp = result.created * 1000;\n                let datecreation = new Date(timestamp).toLocaleDateString(document.documentElement.lang, {\n                    day : 'numeric',\n                    month : 'short',\n                    year : 'numeric'\n                });\n                let timecreation = new Date(timestamp).toLocaleTimeString(document.documentElement.lang);\n\n                // Note last modified datetime.\n                let lastmodifiedtimestamp = result.lastmodified * 1000;\n                let lastmodifieddate = new Date(lastmodifiedtimestamp).toLocaleDateString(document.documentElement.lang, {\n                    day : 'numeric',\n                    month : 'short',\n                    year : 'numeric'\n                });\n                let lastmodifiedtime = new Date(lastmodifiedtimestamp).toLocaleTimeString(document.documentElement.lang);\n\n                Templates.render('local_notebook/note_content', data)\n                .then(function(html) {\n                    // Display content.\n                    $(SELECTORS.NOTE_VIEW).html(html);\n                    // Display dates.\n                    $(SELECTORS.HEADER_NOTE_CREATED_DATE).html(datecreation + ' ' + timecreation);\n                    $(SELECTORS.HEADER_NOTE_LAST_MODIFIED_DATE).html(lastmodifieddate + ' ' + lastmodifiedtime);\n                    // Set buttons.\n                    $(SELECTORS.HEADER_NOTE_DELETE ).data('noteid', result.id);\n                    $(SELECTORS.HEADER_NOTE_EDIT).data('noteid', result.id);\n                    // Set tags.\n                    $(SELECTORS.FOOTER_NOTE_TAGS).html(getFormattedTags(result.tags));\n                    // Remove blur content.\n                    removeBlurContent();\n                    // Log viewed event.\n                    promises[1].done(function () {}).fail(Notification.exception);\n                })\n                .fail(Notification.exception);\n            }).fail(Notification.exception);\n        };\n\n\n        /**\n         * Display notes.\n         *\n         * @param {Number} pageNumber The pagination page number\n         */\n        var displayNotes = (pageNumber) => {\n            var promises = [];\n\n            promises = ajax.call([{\n                methodname: 'local_notebook_notes_list',\n                args: {\n                    userid: this.userid,\n                    courseid: this.courseid,\n                    coursemoduleid: this.coursemoduleid\n                }\n            }]);\n            var stringkeys = [\n                {\n                    key: 'notetitle',\n                    component: 'local_notebook'\n                },\n                {\n                    key: 'notedate',\n                    component: 'local_notebook',\n                },\n                {\n                    key: 'displaynote',\n                    component: 'local_notebook',\n                },\n                {\n                    key: 'lastmodifieddate',\n                    component: 'local_notebook',\n                }\n            ];\n\n            str.get_strings(stringkeys).then(function(langStrings) {\n                let data = [];\n                promises[0].done(function (result) {\n                    $.each(result, function (index, value) {\n                        let subject = {};\n                        subject.text = value.subject;\n                        subject.tags = value.tags;\n                        data.push({\n                            'id': value.id,\n                            'subjecttext': value.subject,\n                            'subject': subject,\n                            'lastmodified': value.lastmodified\n                        });\n                    });\n                    this.$table.bootstrapTable({\n                        locale: document.documentElement.lang,\n                        paginationParts: ['pageInfo', 'pageSize', 'pageList'],\n                        paginationSuccessivelySize: 2,\n                        paginationPagesBySide: 1,\n                        data: data,\n                        pageNumber: pageNumber,\n                        columns: [\n                            [{\n                                field: 'state',\n                                checkbox: true\n                            },\n                            {\n                                field: 'subjecttext',\n                                visible: false\n                            },\n                            {\n                                field: 'subject',\n                                title: langStrings[0],\n                                sortable: true,\n                                sortName: 'subjecttext',\n                                formatter: function(value) {\n                                    let nbtags = value.tags.length;\n                                    var td = \"<span class='text-truncate subject'>\" + value.text + \"</span><br>\";\n                                    var nbclass = nbtags === 1 ? 'wcn-1' : 'wcn-2';\n                                    value.tags.forEach(function(item) {\n                                        td += '<span class=\"badge badge-info text-truncate context-note ' + nbclass\n                                            + '\"><a title=\"' + item.title + '\" href=\"' + item.url + '\">'\n                                            + item.title + '</a></span>';\n                                    });\n                                    return td;\n                                }\n                            },\n                            {\n                                field: 'lastmodified',\n                                title: langStrings[1],\n                                sortable: true,\n                                formatter: function(value) {\n                                    var today = new Date(value * 1000).toLocaleDateString(document.documentElement.lang, {\n                                        day : 'numeric',\n                                        month : 'short',\n                                        year : 'numeric'\n                                    });\n                                    return today;\n                                },\n                                width: 110,\n                                titleTooltip: langStrings[3]\n                            },\n                            {\n                                field: 'operate',\n                                title: '',\n                                align: 'center',\n                                width: 35,\n                                formatter: function(value, row) {\n                                    return [\n                                        '<a class=\"viewnote\" data-noteid=\"' + row.id + '\" ' +\n                                        'href=\"#notedetailcontainer\" title=\"' + langStrings[2] + '\">',\n                                        '<i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>',\n                                        '</a>'\n                                    ].join('');\n                                }\n                            }]\n                        ],\n                        onPostBody: function() {\n                            // Wrap the second and the third card view for Flexbox.\n                            $(\".card-views\").each(function() {\n                                $(this).find('.card-view').slice(1, 3).wrapAll('<div class=\"item-content\" />');\n                            });\n\n                            // Init pagination rows per page dropdown.\n                            $(SELECTORS.TABLE_PAGINATION + ' .dropdown-toggle').dropdown();\n\n                            // Hide notebook table loading.\n                            $(SELECTORS.NOTE_TABLE_LOADING).addClass('hidden');\n\n                            // Display notebook table.\n                            $(SELECTORS.NOTE_TABLE_CONTAINER).removeClass('hidden');\n                        }\n                    });\n                }).fail(notification.exception);\n            }).fail(Notification.exception);\n        };\n\n        /**\n         * Close the confirm delete dialogue..\n         *\n         * @param {String} action The action type of cancel.\n         * @param {Boolean} focus\n         */\n        var closeConfirmDialogue = (action, focus) => {\n            $(SELECTORS.DIALOGUE_CONTAINER).addClass('hidden');\n            if (!focus) {\n                return;\n            }\n            if (action === 'multiple') {\n                $(SELECTORS.TABLE_DELETE_BUTTON).focus();\n            } else {\n                $(SELECTORS.DELETE_NOTE_BUTTON).focus();\n            }\n        };\n\n        /**\n         * Show the confirm delete dialogue..\n         *\n         * @param {String} action\n         */\n        var showConfirmDialogue = (action) => {\n            $(SELECTORS.DIALOGUE_CONTAINER).removeClass('hidden');\n            if (action === 'multiple') {\n                let toshow = SELECTORS.CONFIRM_TEXT_MULTI + ', ' + SELECTORS.CONFIRM_DELETE_BUTTON_MULTI + ',' +\n                    SELECTORS.CANCEL_DELETE_BUTTON_MULTI;\n                let tohide = SELECTORS.CONFIRM_TEXT_SINGLE + ', ' + SELECTORS.CONFIRM_DELETE_BUTTON_SINGLE + ',' +\n                    SELECTORS.CANCEL_DELETE_BUTTON_SINGLE;\n                $(tohide).addClass('hidden');\n                $(toshow).removeClass('hidden');\n                let list = [];\n                $(SELECTORS.NOTEINDEX + ' ' + SELECTORS.CHECKBOX_LIST_NOTE + ':checked').each(function(){\n                    list.push($(this).val());\n                });\n                $(SELECTORS.CONFIRM_DELETE_BUTTON_MULTI).data('noteid', list);\n                $(SELECTORS.CONFIRM_DELETE_BUTTON_MULTI).focus();\n            } else {\n                let tohide = SELECTORS.CONFIRM_TEXT_MULTI + ', ' + SELECTORS.CONFIRM_DELETE_BUTTON_MULTI + ',' +\n                    SELECTORS.CANCEL_DELETE_BUTTON_MULTI;\n                let toshow = SELECTORS.CONFIRM_TEXT_SINGLE + ', ' + SELECTORS.CONFIRM_DELETE_BUTTON_SINGLE + ',' +\n                    SELECTORS.CANCEL_DELETE_BUTTON_SINGLE;\n                $(tohide).addClass('hidden');\n                $(toshow).removeClass('hidden');\n                $(SELECTORS.CONFIRM_DELETE_BUTTON_SINGLE).data('noteid',\n                $(SELECTORS.HEADER_NOTE_DELETE ).data('noteid'));\n                $(SELECTORS.CONFIRM_DELETE_BUTTON_SINGLE).focus();\n            }\n            window.scrollTo(0, $(SELECTORS.DIALOGUE_CONTAINER).position().top);\n        };\n\n        /**\n         * Submit form ajax.\n         *\n         */\n        var submitFormAjax = () => {\n            if ($(document.activeElement).data('action') == 'reset') {\n                cancelNoteForm();\n            } else {\n                let args = {};\n                args.noteid = $(SELECTORS.NOTE_FORM +' input[name=\"noteid\"]').val();\n                args.subject = $(SELECTORS.NOTE_FORM +' input[name=\"subject\"]').val();\n                args.note = $(SELECTORS.NOTE_FORM).serialize();\n                ajax.call([{\n                    methodname: 'local_notebook_update_note',\n                    args: args,\n                    done: function(result) {\n                        if (result) {\n                                // Refresh list.\n                                refreshNotes();\n                                // Display message success.\n                                displayMessageSuccess('notesaved');\n                                // Display Note view.\n                                displayNoteView();\n                                // Display note.\n                                displayNote(args.noteid );\n                        }\n                    },\n                    fail: notification.exception\n                }]);\n            }\n            return false;\n        };\n\n        /**\n         * Submit delete ajax.\n         *\n         */\n        var submitDeleteAjax = () => {\n            let action = $(document.activeElement).data('action');\n            let notesids = [];\n            let keymessage = 'notedeleted';\n            if (action === 'confirm-delete-multiple') {\n                notesids = $(document.activeElement).data('noteid');\n                keymessage = 'notedeletedmultiple';\n            } else {\n                notesids.push($(document.activeElement).data('noteid'));\n            }\n            ajax.call([{\n                methodname: 'local_notebook_delete_notes',\n                args: {notes: notesids},\n                done: function(result) {\n                    if (result) {\n                        // Close dialogue.\n                        closeConfirmDialogue('multiple', false);\n                        hideNoteView(false);\n                        // Display success message.\n                        displayMessageSuccess(keymessage);\n                        // Refresh list.\n                        refreshNotes();\n                        // Hide form.\n                        hideNoteForm();\n                    }\n                },\n                fail: notification.exception\n            }]);\n            return false;\n        };\n\n        /**\n         * Cancel form.\n         *\n         */\n        var cancelNoteForm = () => {\n            displayNoteView();\n            $(SELECTORS.HEADER_NOTE_EDIT).focus();\n        };\n\n        /**\n         * Hide note view.\n         *\n         * @param {String} focus\n         */\n        var hideNoteView = (focus) => {\n            $(SELECTORS.HEADER_NOTE_VIEW).addClass('hidden');\n            $(SELECTORS.HEADER_NOTE_VIEW).attr('aria-hidden', true);\n            $(SELECTORS.FOOTER_NOTE_VIEW).addClass('hidden');\n            $(SELECTORS.FOOTER_NOTE_VIEW).attr('aria-hidden', true);\n            $(SELECTORS.NOTE_VIEW).addClass('hidden');\n            $(SELECTORS.NOTE_VIEW).attr('aria-hidden', true);\n            $(SELECTORS.FORM_CONTAINER).removeClass('hidden');\n            $(SELECTORS.FORM_CONTAINER).removeAttr('aria-hidden');\n            // Set focus back to last item clicked.\n            if (!focus) {\n                return;\n            }\n            $(focus).focus();\n        };\n\n        /**\n         * Hide note view.\n         */\n        var hideNoteForm = () => {\n            $(SELECTORS.FORM_CONTAINER).addClass('hidden');\n            $(SELECTORS.FORM_CONTAINER).attr('aria-hidden', true);\n        };\n\n        /**\n         * Display note view.\n         */\n        var displayNoteView = () => {\n            $(SELECTORS.HEADER_NOTE_VIEW).removeClass('hidden');\n            $(SELECTORS.HEADER_NOTE_VIEW).removeAttr('aria-hidden');\n            $(SELECTORS.FOOTER_NOTE_VIEW).removeClass('hidden');\n            $(SELECTORS.FOOTER_NOTE_VIEW).removeAttr('aria-hidden');\n            $(SELECTORS.NOTE_VIEW).removeClass('hidden');\n            $(SELECTORS.NOTE_VIEW).removeAttr('aria-hidden');\n            $(SELECTORS.FORM_CONTAINER).addClass('hidden');\n            $(SELECTORS.FORM_CONTAINER).attr('aria-hidden', true);\n        };\n\n        /**\n         * Edit note view.\n         *\n         * @param {String} noteid\n         */\n        var editNoteView = (noteid) => {\n            ajax.call([{\n                methodname: 'local_notebook_read_note',\n                args: {noteid: noteid},\n                done: function(result) {\n                    if (result) {\n                        $(SELECTORS.FORM_CONTAINER + \" #id_noteeditable\").html(result.summary);\n                        $(SELECTORS.NOTE_FORM + ' textarea').val($(SELECTORS.NOTE_VIEW + ' .textareaorigin').val());\n                        $(SELECTORS.NOTE_FORM + ' textarea').trigger('change');\n                        $(SELECTORS.NOTE_FORM +' input[name=\"subject\"]').val(result.subject);\n                        $(SELECTORS.NOTE_FORM +' input[name=\"noteid\"]').val(noteid);\n                        hideNoteView(SELECTORS.NOTE_FORM +' input[name=\"subject\"]');\n                        toggleSaveButton();\n                    }\n                },\n                fail: notification.exception\n            }]);\n        };\n\n        /**\n         * Display message success.\n         *\n         * @param {String} key the string identifier.\n         *\n         */\n        var displayMessageSuccess = (key) => {\n            // Remove old message.\n            $(SELECTORS.MESSAGE_SUCCESS_CONTAINER).html('');\n            var stringkeys = [\n                {\n                    key: key,\n                    component: 'local_notebook'\n                },\n                {\n                    key: 'close',\n                    component: 'core'\n                }\n            ];\n\n            str.get_strings(stringkeys).then(function(langStrings) {\n                let messageHtml = '<div class=\"alert alert-success alert-block fade in \" role=\"alert\">' +\n                '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"' + langStrings[1] + '\">×</button>' +\n                langStrings[0] + '</div>';\n                $(SELECTORS.MESSAGE_SUCCESS_CONTAINER).html(messageHtml);\n                $(SELECTORS.MESSAGE_SUCCESS_CONTAINER + ' .alert button').focus();\n                setTimeout(function() {\n                    $(SELECTORS.MESSAGE_SUCCESS_CONTAINER + ' .alert').fadeOut();\n                }, 10000);\n            });\n        };\n\n        /**\n         * Toggle save button.\n         *\n         */\n        var toggleSaveButton = () => {\n            let editorcontent = $(SELECTORS.FORM_CONTAINER + \" #id_noteeditable\").html();\n            let emptyeditor = false;\n            let noteid = $(SELECTORS.NOTE_FORM +' input[name=\"noteid\"]').val();\n            let samecontent = false;\n            if (noteid !== '0') {\n                let subjectform = $(SELECTORS.NOTE_FORM + ' input[type=\"text\"]').val();\n                let subjectorigin = $(SELECTORS.NOTEINDEX + ' .titlenote').html();\n                let summaryorigin = $(SELECTORS.NOTEINDEX + ' .summarynote').html();\n                if (subjectform.localeCompare(subjectorigin) === 0 && editorcontent.localeCompare(summaryorigin) === 0) {\n                    samecontent = true;\n                }\n            }\n            if (editorcontent.replace(/<(.|\\n)*?>/g, '').trim().length === 0 && !editorcontent.includes(\"<img\")) {\n                emptyeditor = true;\n            }\n            if ($(SELECTORS.NOTE_FORM + ' input[type=\"text\"]').val() == '' || emptyeditor || samecontent) {\n                $(SELECTORS.NOTE_FORM + ' ' + SELECTORS.SAVE_BUTTON).prop('disabled', true);\n            } else {\n                $(SELECTORS.NOTE_FORM + ' ' + SELECTORS.SAVE_BUTTON).prop('disabled', false);\n            }\n        };\n\n        /**\n         * Toggle delete button.\n         *\n         */\n        var toggleDeleteButton = () => {\n            let listempty = true;\n            if ($(SELECTORS.NOTEINDEX + ' ' + SELECTORS.CHECKBOX_LIST_NOTE + ':checked').length > 0) {\n                listempty = false;\n            }\n            if (listempty) {\n                $(SELECTORS.TABLE_DELETE_BUTTON).prop('disabled', true);\n            } else {\n                $(SELECTORS.TABLE_DELETE_BUTTON).prop('disabled', false);\n            }\n        };\n\n        /**\n         * Register events for the notebook index.\n         *\n         * @param {String} userid The user ID\n         * @param {String} courseid The course ID\n         * @param {String} coursemoduleid The cours module ID\n         */\n        var registerEventListeners = (userid, courseid, coursemoduleid) => {\n            this.userid = userid;\n            this.courseid = courseid;\n            this.coursemoduleid = coursemoduleid;\n            this.$table = $(SELECTORS.NOTE_TABLE);\n            $(SELECTORS.NOTEINDEX).on('click', SELECTORS.REFRESH_BUTTON, function () {\n                refreshNotes();\n            });\n            // Note table row click event.\n            $(SELECTORS.NOTEINDEX).on('click', SELECTORS.NOTE_TABLE_ROW + ' td:not(:first-child)', function(e) {\n                if (!$(e.target).hasClass('context-note') &&\n                    !$(e.target).parent().hasClass('context-note')) {\n                    let noteid = $(this).closest('tr').find('.viewnote').data('noteid');\n                    $(SELECTORS.NOTEINDEX + ' #notebook-table-index tr.selected').removeClass('selected');\n                    displayNote(noteid);\n                    $(this).closest('tr').addClass('selected');\n                }\n            });\n            // Note table row checkbox cell click event.\n            $(SELECTORS.NOTEINDEX).on('click', SELECTORS.NOTE_TABLE_ROW + ' td:first-child', function(e) {\n                if($(this).find('.card-views').length) { // card view mode.\n                    if (!$(e.target).is('label, input') &&\n                        !$(e.target).hasClass('context-note') &&\n                        !$(e.target).parent().hasClass('context-note')) {\n                        let noteid = $(this).closest('tr').find('.viewnote').data('noteid');\n                        $(SELECTORS.NOTEINDEX + ' #notebook-table-index tr.selected').removeClass('selected');\n                        displayNote(noteid);\n                        $(this).closest('tr').addClass('selected');\n                        window.scrollTo(0, $(SELECTORS.NOTE_DETAIL_CONTAINER).position().top);\n                    }\n                } else {\n                    $(this).find('input[type=\"checkbox\"]').trigger('click');\n                }\n            });\n            // Edit note.\n            $(SELECTORS.NOTEINDEX).on('click', SELECTORS.HEADER_NOTE_EDIT, function() {\n                editNoteView($(this).data('noteid'));\n            });\n            // Cancel edit note.\n            $(SELECTORS.NOTEINDEX).on('click', SELECTORS.CANCEL_BUTTON, function(e) {\n                e.preventDefault();\n                let noteid = $(SELECTORS.NOTE_FORM +' input[name=\"noteid\"]').val();\n                displayNote(noteid);\n            });\n            // Cancel delete note.\n            $(SELECTORS.NOTEBOOKCONTAINER).on('click', SELECTORS.CANCEL_DELETE_BUTTON_SINGLE, function() {\n                closeConfirmDialogue('single', true);\n            });\n            $(SELECTORS.NOTEBOOKCONTAINER).on('click', SELECTORS.CANCEL_DELETE_BUTTON_MULTI, function() {\n                closeConfirmDialogue('multiple', true);\n            });\n            // Delete note button.\n            $(SELECTORS.NOTEINDEX).on('click', SELECTORS.DELETE_NOTE_BUTTON, function() {\n                let action = 'multiple';\n                if ($(this).data('noteid')) {\n                    action = 'single';\n                }\n                showConfirmDialogue(action);\n            });\n            // Confirm delete note button.\n            $(SELECTORS.NOTEBOOKCONTAINER).on('click', SELECTORS.CONFIRM_DELETE_BUTTON_SINGLE + ' , ' +\n                SELECTORS.CONFIRM_DELETE_BUTTON_MULTI, submitDeleteAjax);\n\n            $(SELECTORS.FORM_CONTAINER).on('submit', 'form', submitFormAjax);\n\n            // Enable/disbled save button.\n            $(SELECTORS.FORM_CONTAINER + ' form input[type=\"text\"]').on('input', toggleSaveButton);\n            $(SELECTORS.FORM_CONTAINER + ' form textarea').on('change', toggleSaveButton);\n            // Enable/disbled delete button.\n            $(SELECTORS.NOTEINDEX).on('change', SELECTORS.CHECKBOX_LIST_NOTE + ', ' + SELECTORS.CHECKBOX_ALL_NOTE,\n                            toggleDeleteButton);\n        };\n\n        /**\n         * Initialise the notebook index.\n         *\n         * @param {String} userid The user ID\n         * @param {String} courseid The course ID\n         * @param {String} coursemoduleid The cours module ID\n         */\n        var init = (userid, courseid, coursemoduleid) => {\n            registerEventListeners(userid, courseid, coursemoduleid);\n            $(document).ready(function() {\n                displayNotes();\n            });\n        };\n\n        return {\n            init: init,\n        };\n    });\n"],"file":"notebook_index.min.js"}